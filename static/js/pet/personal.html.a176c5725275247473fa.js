webpackJsonp([23],{140:function(e,t,s){s(356),s(357);var o=s(6)(s(258),s(525),"data-v-0611bb58",null);e.exports=o.exports},183:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(0),a=s(5),i=s(3),n=s.n(i),d=s(1),u=s.n(d),p=s(4),r=(s.n(p),s(140)),c=s.n(r),l=s(2);o.default.config.productionTip=!1,o.default.use(a.a),o.default.use(n.a),o.default.use(u.a),o.default.http.options.emulateJSON=!0,new o.default({el:"#app",store:l.a,template:"<App/>",components:{App:c.a}})},258:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(7),a=s(8),i=s.n(a),n=s(9),d=s.n(n),u=s(12),p=s(16);t.default={data:function(){return{phone:null,isBindWeixin:null,upName:!1,upPhone:!1,upPwd:!1,tips:"",tipsShow:!1,setNickName:"",upPhoneCurrentPassword:"",upPhoneTel:"",upPhoneVcode:"",upPhoneGetCodeState:!1,upPhoneGetcode:"获取验证码",upPwds:{oldPassword:"",newPassword:"",checkPassword:""},openShare:!1}},computed:s.i(p.a)({headImageUrl:function(e){return e.headImageUrl},nickName:function(e){return e.nickName}}),mounted:function(){document.title="个人中心"},created:function(){var e=this;o.a.isMobile()&&(location.href="/pet/store/pc_personal.html"),o.a.get("/dog/get_login_user_phone",{},function(t){e.phone=t.data.phone,e.openShare=t.data.openShare,e.isBindWeixin=t.data.isBindWeixin})},methods:{shareSet:function(){var e=this;o.a.post("/dog/update_share_set",{openShare:!this.openShare},function(t){e.openShare=!e.openShare,e.tipsPops("更改成功")})},tipsPops:function(e){var t=this;this.tips=e,this.tipsShow=!0,setTimeout(function(){t.tipsShow=!1},3e3)},updateName:function(){this.upName=!0,this.setNickName=this.nickName},saveNickName:function(){var e=this;o.a.get("/dog/update_user_nickname",{nickName:this.setNickName},function(t){e.$store.dispatch("initializeData"),e.tipsPops("更改昵称成功"),e.upName=!1})},checkMobile:function(){if(!u.a.checkMobile(this.upPhoneTel))return this.upPhoneGetCodeState=!1,void o.a.alert("请输入正确的手机号");this.upPhoneGetCodeState=u.a.checkMobile(this.upPhoneTel)},getcode:function(){var e=this;if(!u.a.checkMobile(this.upPhoneTel))return this.upPhoneGetCodeState=!1,void o.a.alert("请输入正确的手机号");o.a.get("/dog/send_code_with_no_bind_phone",{phone:this.upPhoneTel},function(t){if(0!=t.code)o.a.alert(t.msg);else{e.upPhoneGetCodeState=!1,o.a.alert("发送验证码成功");var s=60,a=Date.now()/1e3;e.upPhoneGetcode=s+"秒";var i=setInterval(function(){var t=Date.now()/1e3;t-a>=60?(s=0,e.upPhoneGetcode="获取验证码",e.upPhoneGetCodeState=!0,clearInterval(i)):(s=60-parseInt(t-a,10),e.upPhoneGetcode=s+"秒")},1e3)}})},submitSubmit:function(){var e=this;return""==this.upPhoneCurrentPassword||void 0==this.upPhoneCurrentPassword?void o.a.alert("请输入密码"):u.a.checkMobile(this.upPhoneTel)?""==this.upPhoneVcode||void 0==this.upPhoneVcode?void o.a.alert("请输入正验证码"):void o.a.get("/dog/change_phone",{password:this.upPhoneCurrentPassword,phone:this.upPhoneTel,vcode:this.upPhoneVcode},function(t){0==t.code?(e.upPhoneCurrentPassword="",e.upPhoneTel="",e.upPhoneVcode="",e.tipsPops("更改手机号成功"),e.upPhone=!1):o.a.alert(t.msg)},function(e){o.a.alert(e.msg)}):(this.upPhoneGetCodeState=!1,void o.a.alert("请输入正确的手机号"))},upPwdSubmit:function(){var e=this;return console.log(this.upPwds.oldPassword),""==this.upPwds.oldPassword||void 0==this.upPwds.oldPassword?void o.a.alert("请输入旧密码"):""==this.upPwds.newPassword||void 0==this.upPwds.newPassword?void o.a.alert("请输入新密码"):""==this.upPwds.checkPassword||void 0==this.upPwds.checkPassword?void o.a.alert("请再次输入新密码"):this.upPwds.newPassword!==this.upPwds.checkPassword?void o.a.alert("两次密码输入不一致"):void o.a.get("/dog/modify_password",{oldPassword:this.upPwds.oldPassword,newPassword:this.upPwds.newPassword,checkPassword:this.upPwds.checkPassword},function(t){0==t.code?(e.upPwds.oldPassword="",e.upPwds.newPassword="",e.upPwds.checkPassword="",e.tipsPops("更改密码成功"),e.upPwd=!1):o.a.alert(t.msg)},function(e){o.a.alert(e.msg)})},upBind:function(){var e=this;this.$confirm("确定要解除与微信账号的绑定？","解除绑定",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){o.a.get("/dog/unbind_weixin",{},function(t){0==t.code?e.tipsPops("解绑微信成功"):o.a.alert(t.msg)},function(e){o.a.alert(e.msg)})})}},watch:{upPhoneTel:function(){if(11==this.upPhoneTel.length)return void this.checkMobile()}},components:{Pethead:i.a,Petfooter:d.a,Proving:u.a}}},356:function(e,t){},357:function(e,t){},525:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("pethead"),e._v(" "),s("div",{staticClass:"container"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.tipsShow,expression:"tipsShow"}],staticClass:"tips"},[e._v("\n      "+e._s(e.tips)+"\n    ")]),e._v(" "),s("nav",{staticClass:"nav"},[s("ul",[s("li",{staticClass:"head"},[s("img",{staticClass:"headimg",attrs:{src:e.headImageUrl}})]),e._v(" "),e._m(0)])]),e._v(" "),s("main",{staticClass:"main",staticStyle:{width:"400px"}},[s("ul",[s("li",[s("span",[e._v("昵称：")]),e.upName?s("b",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.setNickName,expression:"setNickName"}],domProps:{value:e.setNickName},on:{input:function(t){t.target.composing||(e.setNickName=t.target.value)}}}),s("a",{on:{click:e.saveNickName}},[e._v("  保存")])]):s("b",[e._v(e._s(e.nickName)+" "),s("a",{on:{click:e.updateName}},[e._v("更改")])])]),e._v(" "),s("li",[s("span",[e._v("手机号：")]),s("b",[e._v(e._s(e.phone))]),e._v(" "),s("a",{on:{click:function(t){e.upPhone=!0}}},[e._v("更改")])]),e._v(" "),s("li",[s("span",[e._v("密码：")]),s("a",{on:{click:function(t){e.upPwd=!0}}},[e._v("修改密码")])]),e._v(" "),s("li",[s("span",[e._v("微信：")]),e.isBindWeixin?s("a",[e._v("去绑定")]):s("b",[e._v("已绑定 "),s("a",{on:{click:e.upBind}},[e._v("解除绑定")])])]),e._v(" "),e.openShare?s("li",[s("span",{staticStyle:{width:"170px","margin-left":"10px"}},[e._v("关闭报告未经授权的访问:当前状态为开启")]),s("a",{on:{click:e.shareSet}},[e._v("关闭")])]):s("li",[s("span",{staticStyle:{width:"170px","margin-left":"10px"}},[e._v("开启报告未经授权的访问:当前状态为关闭")]),s("a",{on:{click:e.shareSet}},[e._v("开启")])])])]),e._v(" "),s("el-dialog",{attrs:{title:"更改手机号码",visible:e.upPhone,top:"25%"},on:{"update:visible":function(t){e.upPhone=t}}},[s("div",{staticClass:"dialog-body"},[s("ul",[s("li",[s("span",{staticClass:"title"},[e._v("当前密码")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.upPhoneCurrentPassword,expression:"upPhoneCurrentPassword"}],attrs:{type:"password",placeholder:"请输入您的密码"},domProps:{value:e.upPhoneCurrentPassword},on:{input:function(t){t.target.composing||(e.upPhoneCurrentPassword=t.target.value)}}})]),e._v(" "),s("li",[s("span",{staticClass:"title"},[e._v("手机号码")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.upPhoneTel,expression:"upPhoneTel"}],attrs:{type:"tel",placeholder:"请输入您的手机号码"},domProps:{value:e.upPhoneTel},on:{blur:e.checkMobile,input:function(t){t.target.composing||(e.upPhoneTel=t.target.value)}}})]),e._v(" "),s("li",[s("span",{staticClass:"title"},[e._v("短信验证码")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.upPhoneVcode,expression:"upPhoneVcode"}],staticClass:"input",attrs:{type:"text",placeholder:"请输入短信验证码"},domProps:{value:e.upPhoneVcode},on:{input:function(t){t.target.composing||(e.upPhoneVcode=t.target.value)}}}),s("a",{staticClass:"getcode",class:{getCdodeNo:!e.upPhoneGetCodeState},on:{click:e.getcode}},[e._v(e._s(e.upPhoneGetcode))])])])]),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("a",{staticClass:"submit",on:{click:e.submitSubmit}},[e._v("提交")]),e._v(" "),s("a",{staticClass:"cancal",on:{click:function(t){e.upPhone=!1}}},[e._v("取消")])])]),e._v(" "),s("el-dialog",{attrs:{title:"修改密码",visible:e.upPwd,top:"25%"},on:{"update:visible":function(t){e.upPwd=t}}},[s("div",{staticClass:"dialog-body"},[s("ul",[s("li",[s("span",{staticClass:"title"},[e._v("当前密码")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.upPwds.oldPassword,expression:"upPwds.oldPassword"}],attrs:{type:"password",placeholder:"请输入您的密码"},domProps:{value:e.upPwds.oldPassword},on:{input:function(t){t.target.composing||e.$set(e.upPwds,"oldPassword",t.target.value)}}})]),e._v(" "),s("li",[s("span",{staticClass:"title"},[e._v("设置密码")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.upPwds.newPassword,expression:"upPwds.newPassword"}],attrs:{type:"password",placeholder:"请输入您的新密码"},domProps:{value:e.upPwds.newPassword},on:{input:function(t){t.target.composing||e.$set(e.upPwds,"newPassword",t.target.value)}}})]),e._v(" "),s("li",[s("span",{staticClass:"title"},[e._v("确认密码")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.upPwds.checkPassword,expression:"upPwds.checkPassword"}],attrs:{type:"password",placeholder:"请再次输入您的新密码"},domProps:{value:e.upPwds.checkPassword},on:{input:function(t){t.target.composing||e.$set(e.upPwds,"checkPassword",t.target.value)}}})])])]),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("a",{staticClass:"submit",on:{click:e.upPwdSubmit}},[e._v("提交")]),e._v(" "),s("a",{staticClass:"cancal",on:{click:function(t){e.upPwd=!1}}},[e._v("取消")])])])],1),e._v(" "),s("petfooter")],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",[s("a",{staticClass:"active"},[e._v("个人中心")])])}]}}},[183]);