webpackJsonp([40],{124:function(e,t,s){s(434);var a=s(6)(s(242),s(579),null,null);e.exports=a.exports},167:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(0),n=s(5),i=s(3),o=s.n(i),r=s(1),d=s.n(r),c=s(4),l=(s.n(c),s(124)),u=s.n(l),p=s(2);a.default.config.productionTip=!1,a.default.use(n.a),a.default.use(o.a),a.default.use(d.a),a.default.http.options.emulateJSON=!0,new a.default({el:"#app",store:p.a,template:"<App/>",components:{App:u.a}})},242:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(8),n=s.n(a),i=s(9),o=s.n(i),r=s(7);t.default={data:function(){return{userMessageList:[],noReadMessageCount:0}},created:function(){document.title="消息通知"},mounted:function(){var e=this;r.a.get("/dog/petUser/getUserMessageList",{},function(t){e.userMessageList=t.data.list,e.userMessageList.forEach(function(t){t.read||e.noReadMessageCount++})})},computed:{},methods:{messageRead:function(e,t){var s=this;r.a.post("/dog/petUser/setMessageRead",{messageId:e},function(){s.userMessageList[t].read=!0,s.noReadMessageCount--,s.$store.dispatch("getUnreadNum")})},allMessageRead:function(){var e=this;r.a.post("/dog/petUser/setAllMessageRead",{},function(){e.userMessageList.forEach(function(e){return e.read=!0}),e.$store.dispatch("getUnreadNum")})}},components:{Pethead:n.a,Petfooter:o.a}}},434:function(e,t){},579:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("pethead"),e._v(" "),s("div",{staticClass:"breadcrumb"},[s("el-row",{staticClass:"container"},[s("el-col",[s("el-breadcrumb",{attrs:{separator:"/"}},[s("el-breadcrumb-item",[s("a",{attrs:{href:"index.html"}},[e._v("社区首页")])]),e._v(" "),s("el-breadcrumb-item",[e._v("消息通知")])],1)],1)],1)],1),e._v(" "),s("div",{staticClass:"aw-content-wrap"},[s("div",{staticClass:"container"},[s("el-row",[s("el-col",{staticClass:"aw-main-content"},[s("el-card",{staticClass:"box-card mod"},[s("div",{staticStyle:{"text-align":"center",position:"relative"},attrs:{slot:"header"},slot:"header"},[s("span",{staticStyle:{"line-height":"36px"}},[e._v("消息通知")]),e._v(" "),s("el-button",{directives:[{name:"show",rawName:"v-show",value:e.noReadMessageCount>0,expression:"noReadMessageCount > 0"}],staticStyle:{right:"0",position:"absolute"},attrs:{type:"primary"},on:{click:e.allMessageRead}},[e._v("全部已读")])],1),e._v(" "),s("div",{staticClass:"mod-body"},[s("transition-group",{attrs:{name:"flip-list",tag:"ul"}},e._l(e.userMessageList,function(t,a){return s("li",{key:t,staticClass:"item"},[s("span",{attrs:{messageId:t.id,index:a},domProps:{innerHTML:e._s(t.content)}}),e._v(" "),s("br"),e._v(" "),s("span",[e._v(e._s(t.timeInterval))]),e._v(" "),t.read?e._e():s("a",{staticClass:"read",on:{click:function(s){e.messageRead(t.id,a)}}},[s("i",{staticClass:"icon"}),e._v("标为已读")])])}))],1)])],1)],1)],1)]),e._v(" "),s("petfooter")],1)},staticRenderFns:[]}}},[167]);